\documentclass[8pt,landscape]{article}

% PACKAGES
\usepackage[letterpaper, margin=0.1in]{geometry}
\usepackage{amsmath, amssymb, geometry}
\usepackage{multicol}
\usepackage{setspace}
\usepackage{sectsty}
\usepackage{verbatim}
\usepackage{graphicx}
\usepackage{xcolor}
\usepackage{listings}
\usepackage{enumitem}
\usepackage{booktabs} % For better tables if needed

% Define a custom color for code highlighting and environment
\definecolor{myred}{RGB}{204, 0, 0} % A strong red
\definecolor{mygray}{RGB}{240, 240, 240} % Light gray for background
\setlist[itemize]{
    noitemsep,  % Removes vertical space between list items
    topsep=0pt,  % Removes space before the list
    partopsep=0pt, % Removes extra space when a list begins mid-paragraph
    parsep=0pt, % Removes space between paragraphs within an item
    leftmargin=*, % Sets the left margin to the minimum necessary
    labelsep=0.5em, % You can slightly adjust the space between the bullet and the text
}
% LISTINGS SETUP for R and Python
\lstset{
  basicstyle=\ttfamily\scriptsize\color{black},
  backgroundcolor=\color{mygray},
  frame=single,
  frameround=tttt,
  framesep=0pt,        % no padding between code and frame
  rulecolor=\color{black!20},
  rulesep=0pt,         % no space between rules
  breaklines=true,
  columns=fullflexible,
  showstringspaces=false,
  commentstyle=\color{gray},
  keywordstyle=\color{blue!80!black},
  stringstyle=\color{myred},
  breakatwhitespace=true,
  xleftmargin=0pt,     % no left margin
  xrightmargin=0pt,    % no right margin
  aboveskip=0pt,       % no space above listing
  belowskip=0pt,       % no space below listing
  abovecaptionskip=0pt,
  belowcaptionskip=0pt,
  framexleftmargin=0pt,
  framexrightmargin=0pt,
  framextopmargin=0pt,
  framexbottommargin=0pt
}

% FORMATTING
\setstretch{0.9} % Reduce line spacing
\setlength{\parindent}{0pt}
\setlength{\parskip}{0pt}

% Reduce section spacing and change color
\sectionfont{\fontsize{8}{9}\selectfont\bfseries\color{black}} % Main section font: 8pt
% Reduce subsection spacing and make subsections blue
\makeatletter
\renewcommand{\subsection}{\@startsection{subsection}{2}{0pt}%
    {0.1ex}% space before subsection
    {0.1ex}% space after subsection
    {\fontsize{8}{9}\bfseries\color{blue}}} % Subsection font: 8pt
\makeatother

% Custom command for red-highlighted code/commands (for in-line use)
\newcommand{\code}[1]{\textcolor{myred}{\texttt{#1}}}

% Custom small text wrapper - ensuring 8pt for body text
\newcommand{\smalltext}[1]{%
  {\fontsize{8}{9}\selectfont\sloppy #1\par}%
}

% DOCUMENT START
\begin{document}
\fontsize{8}{9}\selectfont % Set the base font size to 8pt and line skip to 9pt for the entire document
\pagestyle{empty}
\begin{multicols}{3}

\subsection{Simple Linear Regresion - Lecture 3}
\smalltext{
$\text{col\_1}_i = \beta_0 + \beta_1\,\text{col\_2}_i + \varepsilon_i$ \\
$\beta_0$ is the population intercept, and $\beta_1$ is the population slope parameter measuring how $\text{col\_1}$ changes with an associated change in $\text{col\_2}$. \\
For each observation $i$, $\varepsilon_i$ represents the random error term. \\
\textbf{Slope:} a one-unit increase in $X$ ($\text{col\_2}$) is associated with an expected increase of $\beta_1$ units in $Y$ ($\text{col\_1}$). \\
\textbf{Intercept:} The average value of $Y$ when $X=0$ is $\beta_0$
}
\begin{lstlisting}[language=R]
SL_reg <- lm(col1 ~ col2, data = data_frame)
tidy_SL_reg <- tidy(SL_reg) #Get estimate, std.error, statistic, p.value
# Extract coefficients
beta_0_hat = SL_reg$coef[1]
beta_1_hat = SL_reg$coef[2]
\end{lstlisting}
\subsection{Conclusions from above}
\smalltext{
Can be asked to check linearity of the model based on the slope of the coefficients \\
Slope Coefficient Hypothesis are as follows:- \\
$H_0: \beta_1 = 0$ \\
$H_a: \beta_1 \neq 0$ \\
From the regression output we got the following get: \\
Slope estimate: <tidy\_SL\_reg -> estimate column>  \\
p-value: <tidy\_SL\_reg -> p-value column> \\
If the p-value is far smaller than significance value $\alpha$ (0.05 usually): \\
$\text{p-value} < 0.05 \quad \Rightarrow \quad \text{Reject } H_0$ \\
Has is extremely strong statistical evidence that the slope coefficient differs from zero. We therefore conclude that col1 is a significant predictor of col2 in the population.
}
\subsection{The range problem}
\smalltext{
The linear model assumes that the relationship between $X$ and $E$[$Y$|$X$] is linear, which may or may not be true \\
Sometimes, there's a linear association only in part of the data range.
The linear model could still be useful when restricted to that specific range;
We need to exercise caution when using the model outside the range of the data, as the relationship between $X$  and $Y$ may differ significantly.
}
\subsection{Multiple Linear Regresion - Lecture 4}
\smalltext{
$Y_i = \beta_0 + \beta_1 x_{i1} + \beta_2 x_{i2} + \cdots + \beta_p x_{ip} + \varepsilon_i$ \\
$\varepsilon_i \sim N(0, \sigma^2) \quad \text{for all } i$ \\
$\text{Cov}(\varepsilon_i, \varepsilon_j) = 0 \quad \text{for } i \neq j $ \\
The MLR model is no longer a line, but a hyperplane in a ($p$+1)-dimensional space. In three dimensions (two predictors), it is a plane. \\
}
\begin{lstlisting}[language=R]
ML_reg <- lm(col1 ~ col2 + col3 + col4, data = data_frame)
library(GGally)
ggpairs(data = dataFrame[, c("col1","col2","col3","col4",)])
\end{lstlisting}

\subsection{"+" and "*" interaction in lm()}
\smalltext{
In an \texttt{lm()} formula, the \texttt{+} symbol adds a variable as a main effect only, meaning it includes the predictor in the model without forming any interaction terms.  
The \texttt{*} symbol expands to include both the main effects of the variables and their interaction termâ€”for example, \texttt{x1 * x2} is equivalent to \texttt{x1 + x2 + x1:x2}.  
Thus, using \texttt{+} simply adds predictors, while using \texttt{*} fits a richer model that accounts for combined (interaction) effects between predictors.
}

\begin{lstlisting}[language=R]
# Examples in R:
lm(y ~ x1 + x2)      # main effects only
lm(y ~ x1 * x2)      # x1, x2, and interaction x1:x2
lm(y ~ x1:x2)        # interaction only
format(3.904359e-02, scientific = FALSE) #convert exponents to dec
\end{lstlisting}
\smalltext{
The bootstrap sampling distribution of the slope is approximately bell-shaped and symmetric, closely resembling a normal distribution. There are no major signs of skewness or heavy tails, indicating that the sampling distribution of the slope is well-approximated by the normal model commonly assumed in linear regression.
}
\end{multicols}
\end{document}